### hive创建表文件格式和压缩方式

##### 建表配置属性
	tblproperties ('orc.compress'='snappy');
	+ orc.compress:表示ORC文件的压缩类型， 「可选的类型有NONE、ZLB和SNAPPY，默认值是ZLIB（Snappy不支持切片）」---这个配置是最关键的
	+ orc.compress.size:表示压缩块( chunk)的大小,默认值是262144(256KB)。
	+ orc.stripe.size:写 stripe,可以使用的内存缓冲池大小,默认值是67108864(64MB）
	+ orc.row.index.stride:行组级别索引的数据量大小,默认是10000,必须要设置成大于等于10000的数
	+ orc.createindex:是否创建行组级别索引,默认是true
	+ orc.bloomfilter.columns:需要创建布隆过滤的组。
	+ orc.bloomfilterfpp:使用布隆过滤器的假正( False Positive)概率,默认值是0.
	
##### 压缩方式

| 格式 | 可分割 | 平均压缩速度 | 文本文件压缩效率 | Hadoop压缩编解码器 |


##### textfile 无压缩
	
	-rwxrwxrwt  hdfs	hive	943.07 MB	Sep 30 11:25	3	128 MB	test.txt	

##### parquet+snappy

```sql
  create table num_parquet_snappy(num bigint) 
    row format delimited fields terminated by "\t"
    stored as parquet 
    tblproperties("orc.compress"="snappy");
```

  	-rwxrwxrwt	hdfs	hive	151.56 MB	Sep 30 16:01	3	128 MB	000000_0	
	-rwxrwxrwt	hdfs	hive	151.56 MB	Sep 30 16:01	3	128 MB	000001_0	
	-rwxrwxrwt	hdfs	hive	151.56 MB	Sep 30 16:01	3	128 MB	000002_0	
	-rwxrwxrwt	hdfs	hive	103.52 MB	Sep 30 16:01	3	128 MB	000003_0

##### orc+snappy

```sql
  create table num_orc_snappy(num bigint) 
    row format delimited fields terminated by "\t"
    stored as orc 
    tblproperties("orc.compress"="snappy");
```

  	-rwxrwxrwt	hdfs	hive	103.72 MB	Sep 30 16:11	3	256 MB	000000_0	
	-rwxrwxrwt	hdfs	hive	103.72 MB	Sep 30 16:11	3	256 MB	000001_0	
	-rwxrwxrwt	hdfs	hive	103.72 MB	Sep 30 16:11	3	256 MB	000002_0	
	-rwxrwxrwt	hdfs	hive	70.93 MB	Sep 30 16:11	3	256 MB	000003_0
